<!-- homepage -->
<div class="container mt-3">
    <div class="row">

        <% page.posts.each(function(post){ %>
        <div class="card shadow rounded flex-row border-0 mt-3" style="width:100%">
            <img class="card-img-top rounded-left" src="<%= firstimage(post) %>" style="width:160px;object-fit:cover;" />

            <div class="card-body">
                <h4 class="card-title text-truncate" title="<%= post.title %>">
                    <%= post.title %>
                </h4>
                
                <p class="card-text">
                    <%- truncate(strip_html(post.content), {length: 80, omission: '...'}) %>
                </p>

                <span class="text-secondary"><%= date(page.date) %></span>

                <a href="<%- url_for(post.path) %>" class="stretched-link"></a>
            </div>
        </div>
        <% }) %>

    </div>
</div>

<!-- pagination -->
<nav class="mt-2 d-flex justify-content-center">
    <ul class="pagination">
        <%- paginator({
            prev_text: '上一页',
            next_text: '下一页',
            page_class:'page-link m-1',
            prev_class:'page-link m-1',
            next_class:'page-link m-1',
            space_class:'page-link m-1',
            current_class:'page-link active m-1',
        }) %>
    </ul>
</nav>